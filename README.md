# Сервис управления списком стран
REST-сервис для работы с актуальным списком стран мира

## Описание
Сервис предоставляет REST API для получения и управления списком стран на основе географических данных из открытого источника.

## Структура проекта
Слоистая архитектура: Контроллер → Сервис → Репозиторий → БД

1. Конфигурация (AppConfig): Настраивает Jackson ObjectMapper для работы с датами
2. Контроллер (CountryController): Принимает HTTP запросы и делегирует работу сервису
3. Сущность (CountryEntity): Представляет таблицу в БД, содержит бизнес-данные
4. Репозиторий (CountryRepository): Обеспечивает доступ к данным в БД через JPA
5. Country (Record) - DTO для передачи данных между слоями
6. DbCountryService (@Component) - бизнес-логика приложения
7. CountryService (Interface) - контракт для сервиса работы co списком стран
8. CountryListApplication (@SpringBootApplication) - главный класс приложения 
9. application.yml - конфигурация Spring Boot, БД, JPA, Flyway 
10. build.gradle - система сборки и управления зависимостями

## Источники данных
Исходные геоданные стран: react-svg-worldmap/countries.geo.ts

## База Данных
Схема БД: Flyway миграция V1__schema_init.sql
Тестовые данные: V2__insert_initial_data.sql
Полный список: V3__insert_all_countries.sql

## API Endpoints

### GET /countries
Возвращает полный список всех стран из базы данных.


### POST /countries
Добавляет новую страну.

json
{
  "code": "US",
  "name": "United States"
}

### PATCH /countries/{code}
Обновляет название страны по её коду.

json
{
  "name": "Новое название страны"
}

## Настройка БД
База данных инициализируется через Flyway миграции

При старте сервиса автоматически применяются все миграции

Данные стран загружаются из указанного источника

## Запуск
bash
./gradlew bootRun
или

bash
mvn spring-boot:run

## Конфигурация
Настройки подключения к БД и другие параметры настраиваются в application.properties